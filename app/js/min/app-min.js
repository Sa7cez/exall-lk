!function(e,t,a,n){if("undefined"==typeof a)throw new Error("This application's JavaScript requires jQuery");a(function(){var e=a("body");(new StateToggler).restoreState(e),a("#chk-fixed").prop("checked",e.hasClass("layout-fixed")),a("#chk-collapsed").prop("checked",e.hasClass("aside-collapsed")),a("#chk-boxed").prop("checked",e.hasClass("layout-boxed")),a("#chk-float").prop("checked",e.hasClass("aside-float")),a("#chk-hover").prop("checked",e.hasClass("aside-hover")),a(".offsidebar.hide").removeClass("hide")})}(window,document,window.jQuery),function(e,t,a,n){a(function(){a('[data-toggle="popover"]').popover(),a('[data-toggle="tooltip"]').tooltip({container:"body"}),a(".dropdown input").on("click focus",function(e){e.stopPropagation()})})}(window,document,window.jQuery),function(e,t,a){"use strict";var n="[data-reset-key]";e(a).on("click",n,function(a){a.preventDefault();var n=e(this).data("resetKey");n?(e.localStorage.remove(n),t.location.reload()):e.error("No storage key specified for reset.")})}(jQuery,window,document),function(e,t,a,n){e.APP_COLORS={primary:"#5d9cec",success:"#27c24c",info:"#23b7e5",warning:"#ff902b",danger:"#f05050",inverse:"#131e26",green:"#37bc9b",pink:"#f532e5",purple:"#7266ba",dark:"#3a3f51",yellow:"#fad732","gray-darker":"#232735","gray-dark":"#3a3f51",gray:"#dde6e9","gray-light":"#e4eaec","gray-lighter":"#edf1f2"},e.APP_MEDIAQUERY={desktopLG:1200,desktop:992,tablet:768,mobile:480}}(window,document,window.jQuery),function(e,t,a,n){function o(e){var t="autoloaded-stylesheet",n=a("#"+t).attr("id",t+"-old");return a("head").append(a("<link/>").attr({id:t,rel:"stylesheet",href:e})),n.length&&n.remove(),a("#"+t)}a(function(){a("#chk-fixed").on("change",function(e){if(a("#chk-fixed").prop("checked")){var t=a(this);t.is("a")&&e.preventDefault();var n,s=t.data("loadCss");s?(n=o(s),n||a.error("Error creating stylesheet link element.")):a.error("No stylesheet location defined.")}else a("#autoloaded-stylesheet").remove()})})}(window,document,window.jQuery),function(e,t,a,n){var o="ru",s="i18n",i="site",r="jq-appLang";a(function(){function e(e){a("[data-localize]").localize(i,e)}if(a.fn.localize){var t=a.localStorage.get(r)||o,n={language:t,pathPrefix:s,callback:function(e,n){a.localStorage.set(r,t),n(e)}};e(n),a("[data-set-lang]").on("click",function(){t=a(this).data("setLang"),t&&(n.language=t,e(n),a(".delay-selector").select2({minimumResultsForSearch:1/0}),a(".favorite-selector").select2({}),a(".payment-selector").select2({}))})}})}(window,document,window.jQuery),function(e,t,a,n){a(function(){var e=new o,n=a("[data-search-open]");n.on("click",function(e){e.stopPropagation()}).on("click",e.toggle);var s=a("[data-search-dismiss]"),i='.navbar-form input[type="text"]';a(i).on("click",function(e){e.stopPropagation()}).on("keyup",function(t){27==t.keyCode&&e.dismiss()}),a(t).on("click",e.dismiss),s.on("click",function(e){e.stopPropagation()}).on("click",e.dismiss)});var o=function(){var e="form.navbar-form";return{toggle:function(){var t=a(e);t.toggleClass("open");var n=t.hasClass("open");t.find("input")[n?"focus":"blur"]()},dismiss:function(){a(e).removeClass("open").find('input[type="text"]').blur().val("")}}}}(window,document,window.jQuery),function(e,t,a){"use strict";function n(t){var a=t.data("message"),n=t.data("options");a||e.error("Notify: No message specified"),e.notify(a,n||{})}var o="[data-notify]";e(a),e(function(){e(o).each(function(){var t=e(this),a=t.data("onload");void 0!==a&&setTimeout(function(){n(t)},800),t.on("click",function(e){e.preventDefault(),n(t)})})})}(jQuery,window,document),function(e,t,a){var n={},o={},s=function(t){return"string"==e.type(t)&&(t={message:t}),arguments[1]&&(t=e.extend(t,"string"==e.type(arguments[1])?{status:arguments[1]}:arguments[1])),new r(t).show()},i=function(e,t){if(e)for(var a in o)e===o[a].group&&o[a].close(t);else for(var a in o)o[a].close(t)},r=function(t){this.options=e.extend({},r.defaults,t),this.uuid="ID"+(new Date).getTime()+"RAND"+Math.ceil(1e5*Math.random()),this.element=e(['<div class="uk-notify-message alert-dismissable">','<a class="close icon-cross"></a>',"<div>"+this.options.message+"</div>","</div>"].join("")).data("notifyMessage",this),this.options.status&&(this.element.addClass("alert alert-"+this.options.status),this.currentstatus=this.options.status),this.group=this.options.group,o[this.uuid]=this,n[this.options.pos]||(n[this.options.pos]=e('<div class="uk-notify uk-notify-'+this.options.pos+'"></div>').appendTo("body").on("click",".uk-notify-message",function(){e(this).data("notifyMessage").close()}))};return e.extend(r.prototype,{uuid:!1,element:!1,timout:!1,currentstatus:"",group:!1,show:function(){if(!this.element.is(":visible")){var e=this;n[this.options.pos].show().prepend(this.element);var t=parseInt(this.element.css("margin-bottom"),10);return this.element.css({opacity:0,"margin-top":-1*this.element.outerHeight(),"margin-bottom":0}).animate({opacity:1,"margin-top":0,"margin-bottom":t},function(){if(e.options.timeout){var t=function(){e.close()};e.timeout=setTimeout(t,e.options.timeout),e.element.hover(function(){clearTimeout(e.timeout)},function(){e.timeout=setTimeout(t,e.options.timeout)})}}),this}},close:function(e){var t=this,a=function(){t.element.remove(),n[t.options.pos].children().length||n[t.options.pos].hide(),delete o[t.uuid]};this.timeout&&clearTimeout(this.timeout),e?a():this.element.animate({opacity:0,"margin-top":-1*this.element.outerHeight(),"margin-bottom":0},function(){a()})},content:function(e){var t=this.element.find(">div");return e?(t.html(e),this):t.html()},status:function(e){return e?(this.element.removeClass("alert alert-"+this.currentstatus).addClass("alert alert-"+e),this.currentstatus=e,this):this.currentstatus}}),r.defaults={message:"",status:"normal",timeout:5e3,group:null,pos:"bottom-right"},e.notify=s,e.notify.message=r,e.notify.closeAll=i,s}(jQuery,window,document),function(e,t,a){"use strict";var n='[data-tool="panel-dismiss"]',o="panel.remove",s="panel.removed";e(a).on("click",n,function(){function t(){e.support.animation?n.animo({animation:"bounceOut"},a):a()}function a(){var t=n.parent();e.when(n.trigger(s,[n])).done(function(){n.remove(),t.trigger(s).filter(function(){var t=e(this);return t.is('[class*="col-"]:not(.sortable)')&&0===t.children("*").length}).remove()})}var n=e(this).closest(".panel"),i=new e.Deferred;n.trigger(o,[n,i]),i.done(t)})}(jQuery,window,document),function(e,t,a){"use strict";function n(e){e.removeClass("fa-plus").addClass("fa-minus")}function o(e){e.removeClass("fa-minus").addClass("fa-plus")}function s(t,a){var n=e.localStorage.get(l);n||(n={}),n[t]=a,e.localStorage.set(l,n)}function i(t){var a=e.localStorage.get(l);return a?a[t]||!1:void 0}var r='[data-tool="panel-collapse"]',l="jq-panelState";e(r).each(function(){var t=e(this),a=t.closest(".panel"),r=a.find(".panel-wrapper"),l={toggle:!1},c=t.children("em"),p=a.attr("id");r.length||(r=a.children(".panel-heading").nextAll().wrapAll("<div/>").parent().addClass("panel-wrapper"),l={}),r.collapse(l).on("hide.bs.collapse",function(){o(c),s(p,"hide"),r.prev(".panel-heading").addClass("panel-heading-collapsed")}).on("show.bs.collapse",function(){n(c),s(p,"show"),r.prev(".panel-heading").removeClass("panel-heading-collapsed")});var d=i(p);d&&(setTimeout(function(){r.collapse(d)},0),s(p,d))}),e(a).on("click",r,function(){var t=e(this).closest(".panel"),a=t.find(".panel-wrapper");a.collapse("toggle")})}(jQuery,window,document),function(e,t,a){"use strict";function n(){this.removeClass(i)}var o='[data-tool="panel-refresh"]',s="panel.refresh",i="whirl",r="standard";e(a).on("click",o,function(){var t=e(this),a=t.parents(".panel").eq(0),o=t.data("spinner")||r;a.addClass(i+" "+o),a.removeSpinner=n,t.trigger(s,[a])})}(jQuery,window,document),function(e,t,a,n){a(function(){a.fn.select2&&a(".delay-selector").select2({minimumResultsForSearch:1/0})})}(window,document,window.jQuery),function(e,t,a,n){function o(){var e=a("<div/>",{"class":"dropdown-backdrop"});e.insertAfter(".aside").on("click mouseenter",function(){r()})}function s(e){e.siblings("li").removeClass("open").end().toggleClass("open")}function i(e){r();var t=e.children("ul");if(!t.length)return a();if(e.hasClass("open"))return s(e),a();var n=a(".aside"),o=a(".aside-inner"),i=parseInt(o.css("padding-top"),0)+parseInt(n.css("padding-top"),0),l=t.clone().appendTo(n);s(e);var c=e.position().top+i-g.scrollTop(),d=u.height();return l.addClass("nav-floating").css({position:p()?"fixed":"absolute",top:c,bottom:l.outerHeight(!0)+c>d?0:"auto"}),l.on("mouseleave",function(){s(e),l.remove()}),l}function r(){a(".sidebar-subnav.nav-floating").remove(),a(".dropdown-backdrop").remove(),a(".sidebar li.open").removeClass("open")}function l(){return h.hasClass("touch")}function c(){return f.hasClass("aside-collapsed")}function p(){return f.hasClass("layout-fixed")}function d(){return f.hasClass("aside-hover")}var u,h,f,g,m;a(function(){u=a(e),h=a("html"),f=a("body"),g=a(".sidebar"),m=APP_MEDIAQUERY;var t=g.find(".collapse");t.on("click",function(e){e.stopPropagation(),0===a(this).parents(".collapse").length&&t.filter(".in").collapse("hide")});var n=a(".sidebar .active").parents("li");d()||n.addClass("active").children(".collapse").collapse("show"),g.find("li > a + ul").on("show.bs.collapse",function(e){d()&&e.preventDefault()});var s=l()?"click":"mouseenter",r=a();g.on(s,".nav > li",function(){(c()||d())&&(r.trigger("mouseleave"),r=i(a(this)),o())});var p=g.data("sidebarAnyclickClose");"undefined"!=typeof p&&a(".wrapper").on("click.sidebar",function(e){if(f.hasClass("aside-toggled")){var t=a(e.target);t.parents(".aside").length||t.is("#user-block-toggle")||t.parent().is("#user-block-toggle")||f.removeClass("aside-toggled")}})})}(window,document,window.jQuery),function(e,t,a,n){a(function(){var t=a("body");toggle=new StateToggler,a("[data-toggle-state]").on("click",function(o){o.stopPropagation();var s=a(this),i=s.data("toggleState"),r=s.data("target"),l=s.attr("data-no-persist")!==n,c=r?a(r):t;i&&(c.hasClass(i)?(c.removeClass(i),l||toggle.removeState(i)):(c.addClass(i),l||toggle.addState(i))),a(".open").removeClass("open"),a(".tooltip").remove(),a(e).resize()})}),e.StateToggler=function(){var e="jq-toggleState",t={hasWord:function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e)},addWord:function(e,t){return this.hasWord(e,t)?void 0:e+(e?" ":"")+t},removeWord:function(e,t){return this.hasWord(e,t)?e.replace(new RegExp("(^|\\s)*"+t+"(\\s|$)*","g"),""):void 0}};return{addState:function(n){var o=a.localStorage.get(e);o=o?t.addWord(o,n):n,a.localStorage.set(e,o)},removeState:function(n){var o=a.localStorage.get(e);o&&(o=t.removeWord(o,n),a.localStorage.set(e,o))},restoreState:function(t){var n=a.localStorage.get(e);n&&t.addClass(n)}}}}(window,document,window.jQuery),function(e,t,a){"use strict";var n=e("html"),o=e(t);e.support.transition=function(){var e=function(){var e,t=a.body||a.documentElement,n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}(),e.support.animation=function(){var e=function(){var e,t=a.body||a.documentElement,n={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}(),e.support.requestAnimationFrame=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||t.oRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},e.support.touch="ontouchstart"in t&&navigator.userAgent.toLowerCase().match(/mobile|tablet/)||t.DocumentTouch&&document instanceof t.DocumentTouch||t.navigator.msPointerEnabled&&t.navigator.msMaxTouchPoints>0||t.navigator.pointerEnabled&&t.navigator.maxTouchPoints>0||!1,e.support.mutationobserver=t.MutationObserver||t.WebKitMutationObserver||t.MozMutationObserver||null,e.Utils={},e.Utils.debounce=function(e,t,a){var n;return function(){var o=this,s=arguments,i=function(){n=null,a||e.apply(o,s)},r=a&&!n;clearTimeout(n),n=setTimeout(i,t),r&&e.apply(o,s)}},e.Utils.removeCssRules=function(e){var t,a,n,o,s,i,r,l,c,p;e&&setTimeout(function(){try{for(p=document.styleSheets,o=0,r=p.length;r>o;o++){for(n=p[o],a=[],n.cssRules=n.cssRules,t=s=0,l=n.cssRules.length;l>s;t=++s)n.cssRules[t].type===CSSRule.STYLE_RULE&&e.test(n.cssRules[t].selectorText)&&a.unshift(t);for(i=0,c=a.length;c>i;i++)n.deleteRule(a[i])}}catch(d){}},0)},e.Utils.isInView=function(t,a){var n=e(t);if(!n.is(":visible"))return!1;var s=o.scrollLeft(),i=o.scrollTop(),r=n.offset(),l=r.left,c=r.top;return a=e.extend({topoffset:0,leftoffset:0},a),c+n.height()>=i&&c-a.topoffset<=i+o.height()&&l+n.width()>=s&&l-a.leftoffset<=s+o.width()?!0:!1},e.Utils.options=function(t){if(e.isPlainObject(t))return t;var a=t?t.indexOf("{"):-1,n={};if(-1!=a)try{n=new Function("","var json = "+t.substr(a)+"; return JSON.parse(JSON.stringify(json));")()}catch(o){}return n},e.Utils.events={},e.Utils.events.click=e.support.touch?"tap":"click",e.langdirection="rtl"==n.attr("dir")?"right":"left",e(function(){if(e.support.mutationobserver){var t=new e.support.mutationobserver(e.Utils.debounce(function(t){e(a).trigger("domready")},300));t.observe(document.body,{childList:!0,subtree:!0})}}),n.addClass(e.support.touch?"touch":"no-touch")}(jQuery,window,document),function(e,t,a,n){a(function(){function o(e,t){return t?e.toFixed(t).replace(/\.?0+$/,""):e.toFixed(t)}var s={RUB:"1",CNY:"1",ZAR:"1",RON:"1",USD:"1",EUR:"1",JPR:"1",DKK:"1"},i="jq-appCurInfo",r=a.localStorage.get(i)||s;a.localStorage.set(i,r),a.each(r,function(e,t){1==t?(a("."+e+"_info").show(),a('.chooser_popup input[value="'+e+'"]').prop("checked",!0)):(a("."+e+"_info").hide(),a('.chooser_popup input[value="'+e+'"]').prop("checked",!1))}),a(t).on("change",".chooser_popup input",function(){var e=a.localStorage.get(i)||s;a(this).is(":checked")?(e[a(this).val()]="1",a.localStorage.set(i,e),a(this).parent().parent().parent().parent().parent().parent().parent().find("."+a(this).val()+"_info").show()):(e[a(this).val()]="0",a.localStorage.set(i,e),a(this).parent().parent().parent().parent().parent().parent().parent().find("."+a(this).val()+"_info").hide())}),a(".plus .variants input[value=ETH], .plus .variants input[value=DLC]").prop("checked",!1),a(".currencies .border").addClass("size"+a(".plus .variants input:checked").length),a(t).on("change",".plus .variants input",function(){a(this).is(":checked")?a("#"+a(this).val()+"-informer").fadeIn():a("#"+a(this).val()+"-informer").fadeOut(),a(".currencies .border").removeClass("size0").removeClass("size1").removeClass("size2").removeClass("size3").removeClass("size4").addClass("size"+a(".plus .variants input:checked").length)}),a(t).on("click",".currencies .border .icon-cross",function(){a(this).parent().fadeOut(),a(".plus .variants input[value="+a(this).parent().find(".currency-name").text()+"]").prop("checked",!1),a(".currencies .border").removeClass("size0").removeClass("size1").removeClass("size2").removeClass("size3").removeClass("size4").addClass("size"+a(".plus .variants input:checked").length)}),a(t).on("click","[data-toggle=collapse]",function(){a(this).toggleClass("collapsed"),a(this).parent().find(".collapse").toggleClass("in")}),a(t).on("click",".input-wrapper span",function(){return a(this).parent().find(".input-popup").is(":visible")?(a(this).parent().find(".input-popup").slideUp(),a(this).parent().removeClass("opened")):(a(".input-popup").removeClass("opened").slideUp(),a(this).parent().addClass("opened"),a(this).parent().find(".input-popup").slideDown()),!1}),a(".currencies ul li").on({mouseenter:function(){a(".currencies ul li.open").removeClass("open"),a(this).addClass("open")},mouseleave:function(){}}),a(t).on("click",".topnavbar .wallet-opener .wallet",function(){a(this).parent().toggleClass("open")}),a(e).resize(function(){a(".payment-selector").select2({minimumResultsForSearch:"5",allowClear:!0,placeholder:"Способ оплаты"}),a(".price-selector").select2({minimumResultsForSearch:"5",allowClear:!0,placeholder:"Стоимость"}),a(".country-selector").select2({minimumResultsForSearch:"5",allowClear:!0,placeholder:"Страна"}),a(".favorite-selector").select2({minimumResultsForSearch:"5",allowClear:!0,placeholder:"Избранные пользователи"})}),a.easing.jswing=a.easing.swing,a.extend(a.easing,{easeInOutBack:function(e,t,a,o,s,i){return i===n&&(i=1.70158),(t/=s/2)<1?o/2*(t*t*(((i*=1.525)+1)*t-i))+a:o/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+a}}),a.fn.animatescroll=function(e){var t=a.extend({},a.fn.animatescroll.defaults,e);if("html,body"===t.element){if(this.hasClass("no_padding"))var n=this.offset().top-50;else var n=this.offset().top-70;var o=0;a(t.element).stop().animate({scrollTop:n-(t.padding+o)},t.scrollSpeed,t.easing)}else a(t.element).stop().animate({scrollTop:this.offset().top-this.parent().offset().top+this.parent().scrollTop()-t.padding},t.scrollSpeed,t.easing)},a.fn.animatescroll.defaults={easing:"swing",scrollSpeed:500,padding:0,element:"html,body"};var l=150;a(t).on("click",".orders .tabs .tab",function(){popup=a(this).parent().parent().parent(),popup.find(".potencial, .normal").toggle(),popup.find(".orders .tabs .tab.active").removeClass("active"),a(this).addClass("active")}),a(this).find(".dropdown-tab .button .list, .drop .list").slideUp(),a(t).on("click",".active.dropdown-tab .button span, .statuses .drop .arrow",function(){a(this).parent().find(".list").slideToggle(),a(this).parent().toggleClass("active")}),a(t).on("click",".active.dropdown-tab .list li, .drop .list li",function(){a(this).toggleClass("active")}),a(t).on("click",".statuses .status",function(){a(event.target).parents(".drop").length||a(this).toggleClass("active")}),a(t).on("click",".active.dropdown-tab .footer span",function(){a(this).parent().parent().find("li.active").removeClass("active")}),a(t).on("click","#buysell tbody [role=row]",function(e){position=a(this).position().top+47,row_id=a(this).attr("id"),a("#"+a(this).parent().parent().attr("id")+"Popup").slideUp(l),"1"!=a("#"+row_id+"-popup").length?(a("#"+a(this).parent().parent().attr("id")+"Popup.template").clone().removeClass("template").appendTo("#buysell .tab-content").attr("id",row_id+"-popup"),a("#"+row_id+"-popup").css("top",position).addClass("opened").slideDown(l).find(".chat").slideUp()):a("#"+row_id+"-popup").hasClass("opened")?a("#"+row_id+"-popup").css("top",position).removeClass("opened").slideUp(l):a("#"+row_id+"-popup").css("top",position).addClass("opened").slideDown(l),a(".wrapper").css("minHeight","2900px")}),a(t).on("click","[data-tool=popup-hide]",function(){a(this).parent().removeClass("opened").slideUp(l)}),a("body").on("click",function(e){a(".buysell_popup").each(function(){a(this).is(e.target)||0!==a(this).has(e.target).length||0!==a(".buysell_popup").has(e.target).length||a(".buysell_popup").slideUp(l)}),a("#orders .big-popup").each(function(){a(this).is(e.target)||0!==a(this).has(e.target).length||0!==a("#orders .big-popup").has(e.target).length||(a("#orders .big-popup").slideUp(l),a("#orders tr.opened").removeClass("opened"))}),a("#create_order").each(function(){a(this).is(e.target)||0!==a(this).has(e.target).length||0!==a("#create_order").has(e.target).length||a("#create_order").slideUp(l)}),a(".offsidebar .profile").each(function(){a(this).is(e.target)||0!==a(this).has(e.target).length||0!==a(".offsidebar .profile").has(e.target).length||a("body").removeClass("offsidebar-open")}),a(".chooser").each(function(){a(this).is(e.target)||0!==a(this).has(e.target).length||0!==a(".chooser").has(e.target).length||a(".chooser").removeClass("open")}),a(".variants").each(function(){a(this).is(e.target)||0!==a(this).has(e.target).length||0!==a(".variants").has(e.target).length||a(".plus").removeClass("open")}),a(".notification .dropdown-menu").each(function(){a(this).is(e.target)||0!==a(this).has(e.target).length||0!==a(".chooser").has(e.target).length||a(".notification").removeClass("open")}),a(".input-wrapper").each(function(){a(this).is(e.target)||0!==a(this).has(e.target).length||0!==a(".input-wrapper").has(e.target).length||a(".input-popup").slideUp()}),a(".dropdown-tab").each(function(){a(this).is(e.target)||0!==a(this).has(e.target).length||0!==a(".dropdown-tab").has(e.target).length||a(".dropdown-tab").find(".list").slideUp().parent().removeClass("active")}),a(".drop").each(function(){a(this).is(e.target)||0!==a(this).has(e.target).length||0!==a(".drop").has(e.target).length||a(".drop").find(".list").slideUp().parent().removeClass("active")}),a(".settings-panel").each(function(){a(this).is(e.target)||0!==a(this).has(e.target).length||0!==a(".settings-panel").has(e.target).length||a(".settings-panel").hide()})}),a.fn.scrollTo=function(e,t,n){"function"==typeof t&&2==arguments.length&&(n=t,t=e);var o=a.extend({scrollTarget:e,offsetTop:50,duration:500,easing:"swing"},t);return this.each(function(){var e=a(this),t="number"==typeof o.scrollTarget?o.scrollTarget:a(o.scrollTarget),s="number"==typeof t?t:t.offset().top+e.scrollTop()-parseInt(o.offsetTop);e.animate({scrollTop:s},parseInt(o.duration),o.easing,function(){"function"==typeof n&&n.call(this)})})},a(t).on("click","#paymentTop .other",function(){a("#paymentTop .table-responsive").scrollTo(500,{duration:"slow"})}),a(t).on("click",".chooser .icon-down-arrow",function(){a(this).parent().toggleClass("open")}),a(t).on("click",".currencies .icon-plus",function(){a(this).parent().toggleClass("open")}),a(t).on("click",".buysell_popup .order",function(e){a(e.target).parents(".payment_methods").length||a(e.target).parents(".chat").length||a(e.target).parents(".close-line").length||a(e.target).parents(".select2").length||(a(e.target).parents(".message").length?(a(this).parent().find(".opened").removeClass("opened").addClass("closed").removeClass("payment_opened").removeClass("chat_opened"),a(this).toggleClass("chat_opened").toggleClass("opened").toggleClass("closed")):a(e.target).parents(".chat").length||(a(this).parent().find(".opened").removeClass("opened").addClass("closed").removeClass("payment_opened").removeClass("chat_opened"),a(this).toggleClass("payment_opened").toggleClass("opened").toggleClass("closed"),a(this).find("select").select2({minimumResultsForSearch:"10"})))}),a(t).on("click",".buysell_popup .opened .close-line",function(){a(this).parent().removeClass("opened").addClass("closed").removeClass("payment_opened")}),a(".sortable").sortable({forcePlaceholderSize:!0,placeholder:'<div class="box-placeholder p0 m0"><div></div></div>'}),a(t).on("change",".plus select, .select-line select.toInputs",function(){var e=a(this).val(),t=a(this).find(":selected").attr("title"),n=a(this).find("option:selected").text();if(""!=e){if(!a(this).hasClass("toInputs"))if("other-type"!=e){a(this).hasClass("no-delete-options")?(a(this).select2({placeholder:"Способ оплаты",allowClear:!0,minimumResultsForSearch:1/0}),a(this).parent().find(".select2-selection__clear").trigger("mousedown"),a(this).select2("close")):(a(this).find("option[value='"+e+"']").remove(),a(this).select2("val",""));var o=a("#"+a(this).attr("id").replace("-filter",""));o.hasClass("with-settings")?o.append('<li class="list-group-item" value="'+e+'"><em class="icon-dashboard text-muted"></em><span class="text" title="'+t+'">'+n+'</span><div class="settings" data-type="'+e+'"></div><div class="remove"></div></li>').sortable({forcePlaceholderSize:!0,placeholder:'<div class="box-placeholder p0 m0"><div></div></div>'}).parent().fadeIn():o.hasClass("invoices")?o.append('<li class="list-group-item" value="'+e+'"><em class="icon-dashboard text-muted"></em><span class="text" title="'+t+'">'+n+'</span><div class="info" data-type="'+e+'"></div><div class="remove"></div></li>').sortable({forcePlaceholderSize:!0,placeholder:'<div class="box-placeholder p0 m0"><div></div></div>'}).parent().fadeIn():o.append('<li class="list-group-item" value="'+e+'"><span class="text" title="'+t+'">'+n+'</span><div class="remove"></div></li>').parent().fadeIn()}else console.log("Создать"),a(this).parent().parent().parent().after('<input type="text" placeholder="Название банка" class="form-control input-sm"><div class="remove"></div>');!a(this).hasClass("toInputs")&&!a(this).parent().parent().hasClass("toInputs")||a("#settings-inputs").find("."+e+"-field").length>0||a("#settings-inputs").append('<div class="'+e+'-field clearfix"><div class="col"><span><span data-localize="trades.popup.LABEL2">Cost in </span> <span> '+n+'</span></span><input class="form-control input-sm" type="text" name="'+e+'-cost"></div><div class="col2 fee"><div data-localize="trades.popup.LABEL_FEE">With fee </div><div><span class="percent">0.26</span> <span>'+n+"</span></div></label></div></div>").find("[data-localize]").localize("site",{pathPrefix:"i18n",language:a.localStorage.get("jq-appLang")})}1==a(this).find("option").length&&a(this).prop("disabled",!0)}),a(t).on("change","select.add-input",function(){var e=a(this).val();"other-type"==e?a(this).parent().parent().parent().after('<div class="line notop nobottom added"><div class="triple.select-line.clearfix"><input type="text" placeholder="Название банка" class="form-control input-sm full-width"><div class="remove"></div></div></div>'):a(this).parent().parent().parent().parent().find(".added").remove()}),a(t).on("click",".list li .remove",function(e){var t=a(this).parent();if(t.parent().hasClass("sortable"))var n=a.trim(t.find(".text:first").text());else var n=a.trim(t.text());""==n||a("#"+a(this).parent().parent().attr("id")+"-filter").hasClass("no-delete-options")||(a("#"+a(this).parent().parent().attr("id")+"-filter").append('<option value="'+t.attr("value")+'">'+n+"</option").select2({minimumResultsForSearch:"5",width:"resolve"}).prop("disabled",!1),a("#settings-inputs").find("."+n+"-field").remove()),t.hasClass("fromLastPayments")&&a(".buy-options .last").find("#"+t.attr("id").replace("-list","")).removeClass("selected");var o="#"+a(this).parent().parent().attr("id");a(this).parent().find(".settings-panel").length>0&&a(this).parent().find(".settings-panel").appendTo("#create_order"),a(this).parent().remove(),0==a(o).find("li").length&&a(o).parent().fadeOut()}),a(t).on("click","#payment-list-buy .settings",function(e){a(this).parent().find(".settings-panel").length>0?console.log("Уже есть настройки"):(a("."+a(this).attr("data-type")+"-settings").appendTo(a(this).parent()),a(this).parent().find(".settings-panel select").select2({minimumResultsForSearch:10})),a(this).parent().parent().parent().find(".settings-panel").hide(),a(this).parent().find(".settings-panel").toggle()}),a(t).on("click","#payment-list-sell .info",function(e){a(this).parent().find(".settings-panel").length>0?console.log("Уже есть информация"):(a("."+a(this).attr("data-type")+"-info").appendTo(a(this).parent()),a(this).parent().find(".settings-panel select").select2({minimumResultsForSearch:10})),a(this).parent().parent().parent().find(".settings-panel").hide(),a(this).parent().find(".settings-panel").toggle()});var c=.02,p=1+c,d=386.385,u=28770,h=352,f=2776.08,g=5946.503,m=1574,v=44034.6625,b=2499.0917,l=function(){var e=0;return function(t,a){clearTimeout(e),e=setTimeout(t,a)}}();a(t).on("change input keyup mouseup",".inputs input",function(e){switch(this.value=this.value.replace(/[^0-9\.]/g,""),a(this).hasClass("with_fee")?new_value=parseFloat(a(this).val()/p):new_value=parseFloat(a(this).val()),(""==new_value||new_value<0||"NaN"==new_value)&&(new_value=0),field=a(this).parent().parent(),container=a(this).parent().parent().parent(),currency_changed=field.attr("class").split(" ")[0].replace("-field",""),t=0,currency_changed){case"BTC":var t=new_value;break;case"USD":var t=new_value/d;break;case"RUB":var t=new_value/u;break;case"EUR":var t=new_value/h;break;case"DKK":var t=new_value/f;break;case"ZAR":var t=new_value/g;break;case"RON":var t=new_value/m;break;case"JPY":var t=new_value/v;break;case"CNY":var t=new_value/b;break;default:var t=0}l(function(){a(container).find(".clearfix").each(function(){switch((0>t||""==t)&&(t=0),currency=a(this).attr("class").split(" ")[0].replace("-field",""),round=2,currency){case"BTC":value=t,round=8;break;case"USD":value=t*d,round=3;break;case"RUB":value=t*u,round=2;break;case"EUR":value=t*h,round=3;break;case"DKK":value=t*f,round=2;break;case"ZAR":value=t*g,round=3;break;case"RON":value=t*m,round=2;break;case"JPY":value=t*v,round=4;break;case"CNY":value=t*b,round=4}currency!=currency_changed?(a(this).find(".col input").val(o(value,round)),a(this).find(".col2 .percent").text(o(value*c,2)),a(this).find(".col2 input").val(o(value*p,round))):(a(this).find(".col input").val(new_value),a(this).find(".col2 .percent").text(o(new_value*c,2)),a(this).find(".col2 input").val(o(new_value*p,round)))})},500)}),a(t).on("click","[data-action=create_order_buy]",function(){return a("#create_order").find(".tabs .buy").addClass("active"),a("#create_order").find(".tabs .sell").removeClass("active"),a("#create_order").find(".buy-options").show(),a("#create_order").find(".sell-options").hide(),a("#create_order").css("left",a(this).position().left-15),a("#create_order").css("top",a(this).position().top+110),a("#create_order").find(".add-payment select").select2({placeholder:"Способ оплаты",allowClear:!0,minimumResultsForSearch:1/0}),a("#create_order").slideDown().animatescroll(),!1}),a(t).on("click","[data-action=create_order_sell]",function(){return a("#create_order").find(".tabs .sell").addClass("active"),a("#create_order").find(".tabs .buy").removeClass("active"),a("#create_order").find(".sell-options").show(),a("#create_order").find(".buy-options").hide(),!1}),a(t).on("click","#create_order .tabs .tab",function(){a("#create_order").find(".tabs .tab").toggleClass("active"),a("#create_order").find(".buy-options, .sell-options").toggle()}),a(t).on("click","#create_order .hide_it",function(){a("#create_order").slideUp()}),a(t).on("click",".buy-options .last",function(){a(this).find(".popup").fadeToggle()}),a(t).on("click",".buy-options .last ul li",function(){var e=a(this).html(),t=a(this).text(),n=a(this).attr("title"),o=a(this).attr("id"),s=a("#payment-list-buy");a(this).hasClass("selected")?s.find("value="+e).remove():s.append('<li class="list-group-item fromLastPayments" id="'+o+'-list" value="'+t+'"><em class="icon-dashboard text-muted"></em><span class="text" title="'+n+'">'+e+'</span><div class="remove single"></div></li>').sortable({forcePlaceholderSize:!0,placeholder:'<div class="box-placeholder p0 m0"><div></div></div>'}).parent().fadeIn(),a(this).toggleClass("selected")}),a(t).on("click",".settings-panel .close-settings, .settings-panel .icon-cross",function(){a(this).parent().toggle()}),a(t).on("click",".main-settings-open",function(){return a(this).parent().parent().find(".settings-panel").hide(),a(this).parent().parent().find(".main-settings").toggle().find("select").select2({minimumResultsForSearch:"5"}),!1}),a(t).on("click","#orders tbody [role=row]",function(e){a(e.target).parents(".seller").length||(position=a(this).position().top+10+a(this).height(),row_id=a(this).attr("id"),a("#"+a(this).parent().parent().attr("id")+"-popup").slideUp(l),"1"!=a("#"+row_id+"-popup").length?(a("#"+a(this).parent().parent().attr("id")+"-popup.template").clone().removeClass("template").appendTo("#orders .tab-content").attr("id",row_id+"-popup").find("select").select2({minimumResultsForSearch:"5"}),a("#"+row_id+"-popup").css("top",position).addClass("opened").slideDown(l),a(this).addClass("opened")):a("#"+row_id+"-popup").hasClass("opened")?(a("#"+row_id+"-popup").css("top",position).removeClass("opened").slideUp(l),a(this).removeClass("opened")):(a("#"+row_id+"-popup").css("top",position).addClass("opened").slideDown(l),a(this).addClass("opened")),a(".wrapper").css("minHeight","2300px"))}),a(t).on("click","#orders .nav li",function(){a(".payment-selector").select2({minimumResultsForSearch:"5",allowClear:!0,
placeholder:"Способ оплаты"}),a(".price-selector").select2({minimumResultsForSearch:"5",allowClear:!0,placeholder:"Стоимость"}),a(".country-selector").select2({minimumResultsForSearch:"5",allowClear:!0,placeholder:"Страна"}),a(".favorite-selector").select2({minimumResultsForSearch:"5",allowClear:!0,placeholder:"Избранные пользователи"})}),a("#chk-sound").on("change",function(e){a(this).parent().find("em").toggleClass("active")}),a(t).on("click",".notification .label",function(){a(this).parent().addClass("open")}),a(t).on("click",".notification .icon-cross",function(){a(this).parent().slideUp().remove(),count=a("ul.notifications li").length,a("#notification_label").text(count),0==count?(a("#notification_label").text("0").addClass("zero"),a("ul.default").fadeIn(),a("ul.notifications").parent().find(".footer .hide_all").hide(),a("ul.notifications").parent().find(".footer .hide_panel").show()):a("#notification_label").text(count).removeClass("zero")}),a(t).on("click",".notification .footer .hide_all",function(){a(this).parent().parent().find("ul.notifications").remove(),a(this).parent().parent().find("ul.default").fadeIn(),a(this).parent().find(".hide_panel").show(),a("#notification_label").text(0).addClass("zero"),a(this).fadeOut()}),a(t).on("click",".notification .footer .hide_panel",function(){a(this).parent().parent().parent().removeClass("open")}),jQuery.extend(jQuery.fn.dataTableExt.oSort,{"signed-num-pre":function(e){return"-"==e||""===e?0:1*e.replace("+","")},"signed-num-asc":function(e,t){return t>e?-1:e>t?1:0},"signed-num-desc":function(e,t){return t>e?1:e>t?-1:0}}),jQuery.extend(jQuery.fn.dataTableExt.oSort,{"formatted-num-pre":function(e){return e="-"===e||""===e?0:e.replace(/[^\d\-\.]/g,""),parseFloat(e)},"formatted-num-asc":function(e,t){return e-t},"formatted-num-desc":function(e,t){return t-e}});var w=a("#paymentTop .table-responsive table").dataTable({paging:!1,searching:!1,lengthChange:!1,bInfo:!1,sDom:"rt",sAjaxSource:"../server/payment_top.json",aoColumns:[{mData:"name"},{sType:"formatted-num",mData:"count"}],order:[[1,"desc"]],initComplete:function(){},fnDrawCallback:function(){a("#paymentTop .table-responsive table thead").remove(),this.parent().find("[data-localize]").localize("site",{pathPrefix:"i18n",language:a.localStorage.get("jq-appLang")})}});a("#paymentTop select").on("change",function(e){w.api().ajax.url("../server/newTop.json").load()}),a(".select2-results").on("click","li",function(){a(this).find("li").toggle()}),a("body").on("click",".payment-select .select2-results__option[role=treeitem]",function(){"true"==a(this).attr("aria-selected")?(a(this).removeClass("selected"),a(this).attr("aria-selected","false")):(a(this).addClass("selected"),a(this).attr("aria-selected","true"))}),a("body").on("click",".select2-results__group",function(){a(this).parent().toggleClass("toggled")}),a("#ordersBuy, #ordersSell").dataTable({paging:!0,searching:!0,lengthChange:!1,bInfo:!1,sDom:"<'row'<'col-xs-6'l><'col-xs-6'>r>t<'row footer'<'create'>p<'show-closed'>>",language:{paginate:{first:"«",previous:"«",next:"»",last:"»"}},pageLength:7,pagingType:"simple_numbers",sAjaxSource:"../server/manage_orders.json",aoColumns:[{sClass:"order_name",mData:"order_name"},{sClass:"date",mData:"date"},{sClass:"btc",mData:"btc"},{sClass:"amount",bSortable:!1,sType:"formatted-num",mData:"amount"},{sClass:"country",bSortable:!1,mData:"country"},{sClass:"status",bSortable:!1,mData:"status"},{sClass:"arrow",bSortable:!1,sDefaultContent:'<span class="icon-down-arrow"></span>',mData:null}],initComplete:function(){this.parent().find(".show-closed").append('<button class="button btn btn-transparent"></button>'),this.parent().find(".show-closed button").attr("data-localize","trades.SHOWCLOSED").localize("site",{pathPrefix:"i18n",language:a.localStorage.get("jq-appLang")}),this.parent().find(".create").append('<button class="btn btn-orange"></button>'),this.parent().find(".create button").attr("data-action","create_order_buy").attr("data-localize","trades.CREATE_ORDER").localize("site",{pathPrefix:"i18n",language:a.localStorage.get("jq-appLang")}),this.api().columns(".country").every(function(){var e=this;console.log;var t=a('<select class="country-selector form-control"><option data-localize="trades.COUNTRY" value=""></option></select>').appendTo(a(e.header()).empty()).on("change",function(){var t=a.fn.dataTable.util.escapeRegex(a(this).val());e.search(t?"^"+t+"$":"",!0,!1).draw()});e.data().unique().sort().each(function(e,a){t.append('<option value="'+e+'">'+e+"</option>")}),t.wrap("<div class='select-wrapper'></div>").find("[data-localize]").localize("site",{pathPrefix:"i18n",language:a.localStorage.get("jq-appLang")})}),a(".country-selector").select2({minimumResultsForSearch:"8",allowClear:!0,placeholder:"Страна"}),this.api().columns(".status").every(function(){var e=this,t=a('<select class="status-selector form-control"><option data-localize="trades.STATUS" value=""></option></select>').appendTo(a(e.header()).empty()).on("change",function(){var t=a.fn.dataTable.util.escapeRegex(a(this).val());e.search(t?"^"+t+"$":"",!0,!1).draw()});e.data().unique().sort().each(function(e,a){t.append('<option value="'+e+'">'+e+"</option>")}),t.wrap("<div class='select-wrapper'></div>").find("[data-localize]").localize("site",{pathPrefix:"i18n",language:a.localStorage.get("jq-appLang")})}),a(".status-selector").select2({minimumResultsForSearch:"8",allowClear:!0,placeholder:"Статус"})}}),a.fn.dataTable.ext.search.push(function(e,t,n){var o=parseFloat(a(".price .input-popup input").val(),10),s=parseFloat(a(".amount .input-popup input").val(),10),i=parseFloat(t[0])||0,r=parseFloat(t[1])||0;return(isNaN(o)||i>=o)&&(isNaN(s)||r>=s)?!0:!1}),a("#orders-buy-table, #orders-sell-table").dataTable({paging:!0,searching:!0,lengthChange:!1,bInfo:!1,sDom:"<'row'<'col-xs-12 col-md-6'f><'col-xs-12 col-md-6'<'fav dataTables_filter'>>r>t<'row'p>",lengthMenu:[[40],["40 rows"]],language:{paginate:{first:"«",previous:"«",next:"»",last:"»"}},oLanguage:{sSearch:'<i class="icon-magnifier"></i>'},pageLength:14,pagingType:"simple_numbers",sAjaxSource:"../server/orders.json",aoColumns:[{sType:"formatted-num",bSortable:!1,sClass:"price",mData:"price"},{mData:"amount",bSortable:!0,sClass:"amount"},{sClass:"payment",bSortable:!1,mData:"payment"},{sClass:"seller",mData:"seller"},{sType:"signed-num",sClass:"rating",mData:"rating"},{sClass:"country",mData:"country",bSortable:!1},{sClass:"arrow",bSortable:!1,sDefaultContent:'<span class="toggle"><i class="icon-down-arrow"></i></span>'}],initComplete:function(){var e=this;this.parent().find("[type=search]").attr("data-localize","trades.SEARCH").localize("site",{pathPrefix:"i18n",language:a.localStorage.get("jq-appLang")}),this.parent().find("[type=search]").parent().parent().append('<span class="tip">(email, id, имя<br>или номер телефона)</span>'),this.parent().find(".fav").append('<label class="control-label mb"><i class="icon-favorite"></i><select id="fav-'+this.attr("id")+'" class="favorite-selector form-control" name="favorite" value=""><option class="default" value="" data-localize="trades.FAVORITE"></option><option value="Константин Константинопольский">Константин Константинопольский</option><option value="Александридис Константинопулос">Александридис Константинопулос</option><option value="Валерий Панфилов">Валерий Панфилов</option><option value="Александр Валерьев">Александр Валерьев</option></select></label>');var t="fav-"+this.attr("id");this.parent().find(".fav, .buy_button").find("[data-localize]").localize("site",{pathPrefix:"i18n",language:a.localStorage.get("jq-appLang")}),this.api().columns(".price").every(function(){var e=this,t=a('<select class="value-selector form-control"><option data-localize="trades.popup.CUR" value=""></option><option value="" data-localize="trades.popup.COST">Стоимость</option><option value="RUB">RUB</option><option value="USD">USD</option><option value="EUR">EUR</option><option value="DKK">DKK</option><option value="ZAR">ZAR</option><option value="RON">RON</option><option value="JPY">JPY</option><option value="CNY">CNY</option></select>').appendTo(a(e.header()).empty()).on("change",function(){var t=a.fn.dataTable.util.escapeRegex(a(this).val());e.search(t?t:"",!0,!1).draw()});t.wrap("<div class='select-wrapper'></div>").find("[data-localize]").localize("site",{pathPrefix:"i18n",language:a.localStorage.get("jq-appLang")})}),a(".value-selector").select2({minimumResultsForSearch:"12",allowClear:!0,placeholder:"Стоимость"}),this.api().columns(".amount").every(function(){var e=this,t=a('<div class="input-wrapper"><span data-localize="trades.AMOUNTBTC"></span><div class="input-popup"><span data-localize="trades.AMOUNT_INPUT"></span><br><span data-localize="trades.FROM"></span> <input type="text" onkeypress="return event.charCode >= 46 && event.charCode <= 57" class="form-control" value="0"></div></div>').appendTo(a(e.header()).empty()).on("keyup",function(){e.draw()});t.find("[data-localize]").localize("site",{pathPrefix:"i18n",language:a.localStorage.get("jq-appLang")})}),this.api().columns(".payment").every(function(){var e=this,t=a('<select class="payment-selector form-control" multiple="multiple"><optgroup label="Электронные деньги"><option value="webmoney" title="Trust 75">WebMoney</option><option value="paypal" title="Trust 100">PayPal</option><option value="yandex-money" title="Trust 100">Yandex.Money</option></optgroup><optgroup label="Банковский перевод"></optgroup></select>').appendTo(a(e.header()).empty()).on("select2:open",function(e){a(".select2-container--open").addClass("payment-select")}).on("change",function(){var t=a.fn.dataTable.util.escapeRegex(a(this).val());e.search(t?"^"+t+"$":"",!0,!1).draw()});e.data().unique().sort().each(function(e,a){var n=e.indexOf("title='")+"title='".length,o=e.indexOf("'",n+1),s=e.substring(n,o);t.find("optgroup:last").append('<option value="'+e+'" title="'+s+'">'+e+"</option>")}),t.wrap("<div class='select-wrapper'></div>").find("[data-localize]").localize("site",{pathPrefix:"i18n",language:a.localStorage.get("jq-appLang")})}),a(".payment-selector").select2({minimumResultsForSearch:"5",placeholder:"Способ оплаты"}),this.api().columns(".country").every(function(){var e=this,t=a('<select class="country-selector form-control"><option data-localize="trades.PAYMENTSYSTEM" value=""></option></select>').appendTo(a(e.header()).empty()).on("change",function(){var t=a.fn.dataTable.util.escapeRegex(a(this).val());e.search(t?"^"+t+"$":"",!0,!1).draw()});e.data().unique().sort().each(function(e,a){t.append('<option value="'+e+'">'+e+"</option>")}),t.wrap("<div class='select-wrapper'></div>").find("[data-localize]").localize("site",{pathPrefix:"i18n",language:a.localStorage.get("jq-appLang")})}),a(".country-selector").select2({minimumResultsForSearch:"5",allowClear:!0,placeholder:"Страна"}),this.api().column(".seller").every(function(){var e="",n=this;a("#"+t).on("change",function(){e=a.fn.dataTable.util.escapeRegex(a(this).val()),n.search(e?"^"+e+"$":"",!0,!1).draw(),""==e?a("#"+t).parent().find(".select2-selection__rendered").css("color","#B8BBCA"):a("#"+t).parent().find(".select2-selection__rendered").css("color","#000")})}),this.find("td.seller a").after('<em class="icon-magnifier"></em>'),this.find("td.seller .icon-magnifier").on("click",function(){var t=a(this).parent().find("a").text();return e.parent().find("label [type=search]").val(t).trigger("input"),!1}),a(".favorite-selector").select2({minimumResultsForSearch:"5",allowClear:!0,placeholder:"Избранные пользователи"}),a("#paymentTop").matchHeight({byRow:!0,property:"height",target:a("#buysell"),remove:!1})},fnDrawCallback:function(){this.parent().find(".buy_button").find("[data-localize]").localize("site",{pathPrefix:"i18n",language:a.localStorage.get("jq-appLang")}),a(this).find('[data-toggle="tooltip"]').tooltip({container:"body"})},createdRow:function(e,t,n){a(e).attr("id",a(this).attr("id")+"-row-"+n)}})})}(window,document,window.jQuery);